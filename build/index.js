(()=>{"use strict";const e=window.wp.element,t=window.wp.blocks,n=window.wp.blockEditor,l=window.wp.components;(0,t.registerBlockType)("gutenberg-layout-blocks/container",{title:"Container",icon:"layout",category:"layout",attributes:{backgroundColor:{type:"string",default:""},backgroundImage:{type:"string",default:""},backgroundVideo:{type:"string",default:""},minHeight:{type:"number",default:0},addShape:{type:"boolean",default:!1},shapeType:{type:"string",default:"wave"},shapeColor:{type:"string",default:"#000000"}},edit:({attributes:t,setAttributes:a})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.InspectorControls,null,(0,e.createElement)(l.PanelBody,{title:"Container Settings"},(0,e.createElement)(l.TextControl,{label:"Background Color",value:t.backgroundColor,onChange:e=>a({backgroundColor:e})}),(0,e.createElement)(n.MediaUploadCheck,null,(0,e.createElement)(n.MediaUpload,{onSelect:e=>{a({backgroundImage:e.url})},allowedTypes:["image"],value:t.backgroundImage,render:({open:n})=>(0,e.createElement)(l.Button,{onClick:n},t.backgroundImage?"Change Background Image":"Add Background Image")})),(0,e.createElement)(n.MediaUploadCheck,null,(0,e.createElement)(n.MediaUpload,{onSelect:e=>{a({backgroundVideo:e.url})},allowedTypes:["video"],value:t.backgroundVideo,render:({open:n})=>(0,e.createElement)(l.Button,{onClick:n},t.backgroundVideo?"Change Background Video":"Add Background Video")})),(0,e.createElement)(l.RangeControl,{label:"Minimum Height (px)",value:t.minHeight,onChange:e=>a({minHeight:e}),min:0,max:1e3}),(0,e.createElement)(l.ToggleControl,{label:"Add Shape Divider",checked:t.addShape,onChange:e=>a({addShape:e})}),t.addShape&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(l.TextControl,{label:"Shape Type",value:t.shapeType,onChange:e=>a({shapeType:e})}),(0,e.createElement)(l.TextControl,{label:"Shape Color",value:t.shapeColor,onChange:e=>a({shapeColor:e})})))),(0,e.createElement)("div",{className:"gutenberg-layout-blocks-container",style:{backgroundColor:t.backgroundColor,backgroundImage:t.backgroundImage?`url(${t.backgroundImage})`:"none",minHeight:t.minHeight?`${t.minHeight}px`:"auto"}},t.backgroundVideo&&(0,e.createElement)("video",{autoPlay:!0,muted:!0,loop:!0,className:"background-video"},(0,e.createElement)("source",{src:t.backgroundVideo,type:"video/mp4"})),t.addShape&&(0,e.createElement)("div",{className:"shape-divider",style:{color:t.shapeColor}}),(0,e.createElement)(n.InnerBlocks,{allowedBlocks:["gutenberg-layout-blocks/row"]}))),save:({attributes:t})=>(0,e.createElement)("div",{className:"gutenberg-layout-blocks-container",style:{backgroundColor:t.backgroundColor,backgroundImage:t.backgroundImage?`url(${t.backgroundImage})`:"none",minHeight:t.minHeight?`${t.minHeight}px`:"auto"}},t.backgroundVideo&&(0,e.createElement)("video",{autoPlay:!0,muted:!0,loop:!0,className:"background-video"},(0,e.createElement)("source",{src:t.backgroundVideo,type:"video/mp4"})),t.addShape&&(0,e.createElement)("div",{className:"shape-divider",style:{color:t.shapeColor}}),(0,e.createElement)(n.InnerBlocks.Content,null))}),(0,t.registerBlockType)("gutenberg-layout-blocks/row",{title:"Row",icon:"columns",category:"layout",attributes:{gutterSize:{type:"number",default:16}},edit:({attributes:t,setAttributes:a})=>{const o=(0,e.useRef)(null);return(0,e.useEffect)((()=>{const e=o.current;if(!e)return;const t=document.createElement("div");t.className="column-resizer",t.style.cssText="width: 5px; background: #ccc; cursor: col-resize; position: absolute; top: 0; bottom: 0; right: -2.5px;";const n=e.querySelectorAll(".wp-block-gutenberg-layout-blocks-column");n.forEach(((e,l)=>{if(l<n.length-1){const n=t.cloneNode();let l,a,o;e.style.position="relative",e.appendChild(n);const r=t=>{const n=t.pageX-l,r=a+n,i=o-n;r>0&&i>0&&(e.style.width=`${r}px`,e.nextElementSibling.style.width=`${i}px`)},i=()=>{window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",i)};n.addEventListener("mousedown",(t=>{l=t.pageX,a=e.offsetWidth,o=e.nextElementSibling.offsetWidth,window.addEventListener("mousemove",r),window.addEventListener("mouseup",i)}))}}))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.InspectorControls,null,(0,e.createElement)(l.PanelBody,{title:"Row Settings"},(0,e.createElement)(l.RangeControl,{label:"Gutter Size",value:t.gutterSize,onChange:e=>a({gutterSize:e}),min:0,max:50}))),(0,e.createElement)("div",{ref:o,className:"gutenberg-layout-blocks-row",style:{display:"flex",gap:`${t.gutterSize}px`}},(0,e.createElement)(n.InnerBlocks,{allowedBlocks:["gutenberg-layout-blocks/column"]})))},save:({attributes:t})=>(0,e.createElement)("div",{className:"gutenberg-layout-blocks-row",style:{display:"flex",gap:`${t.gutterSize}px`}},(0,e.createElement)(n.InnerBlocks.Content,null))}),(0,t.registerBlockType)("gutenberg-layout-blocks/column",{title:"Column",icon:"columns",category:"layout",attributes:{width:{type:"number",default:100},contentAlignment:{type:"string",default:"left"},margin:{type:"string",default:""},padding:{type:"string",default:""}},edit:({attributes:t,setAttributes:a})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.InspectorControls,null,(0,e.createElement)(l.PanelBody,{title:"Column Settings"},(0,e.createElement)(l.RangeControl,{label:"Width (%)",value:t.width,onChange:e=>a({width:e}),min:1,max:100}),(0,e.createElement)(l.SelectControl,{label:"Content Alignment",value:t.contentAlignment,options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}],onChange:e=>a({contentAlignment:e})}),(0,e.createElement)(l.TextControl,{label:"Margin",value:t.margin,onChange:e=>a({margin:e}),help:"Enter margin values (e.g., '10px 20px')"}),(0,e.createElement)(l.TextControl,{label:"Padding",value:t.padding,onChange:e=>a({padding:e}),help:"Enter padding values (e.g., '10px 20px')"}))),(0,e.createElement)("div",{className:"gutenberg-layout-blocks-column",style:{width:`${t.width}%`,textAlign:t.contentAlignment,margin:t.margin,padding:t.padding}},(0,e.createElement)(n.InnerBlocks,null))),save:({attributes:t})=>(0,e.createElement)("div",{className:"gutenberg-layout-blocks-column",style:{width:`${t.width}%`,textAlign:t.contentAlignment,margin:t.margin,padding:t.padding}},(0,e.createElement)(n.InnerBlocks.Content,null))})})();